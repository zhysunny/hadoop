<?xml version="1.0" encoding="UTF-8"?>
<mxGraphModel dx="1110" dy="854" grid="1" gridSize="1" guides="1" tooltips="1" connect="0" arrows="1" fold="1" page="1" pageScale="1" pageWidth="826" pageHeight="1169" background="#ffffff" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="2" value="NameNode" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fontSize=18;fontColor=#000000;align=left;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1"><mxGeometry x="8" y="23" width="105" height="38" as="geometry"/></mxCell><mxCell id="4" value="Configuration" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fontSize=18;fontColor=#000000;align=left;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1"><mxGeometry x="169" y="24" width="117" height="36" as="geometry"/></mxCell><mxCell id="6" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;fontSize=18;fontColor=#000000;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="26" y="100" as="sourcePoint"/><mxPoint x="194" y="101" as="targetPoint"/></mxGeometry></mxCell><mxCell id="10" value="读取hadoop-default.xml和&lt;div&gt;hadoop-site.xml配置&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=left;verticalAlign=top;spacingTop=-4;points=[];" vertex="1" parent="1"><mxGeometry x="32" y="64" width="152" height="29" as="geometry"/></mxCell><mxCell id="11" value="" style="endArrow=none;dashed=1;html=1;strokeColor=#000000;strokeWidth=2;fontSize=18;fontColor=#000000;entryX=0.171;entryY=1.053;entryPerimeter=0;" edge="1" parent="1" target="2"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="24" y="467" as="sourcePoint"/><mxPoint x="57" y="729" as="targetPoint"/></mxGeometry></mxCell><mxCell id="15" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;fontSize=18;fontColor=#000000;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="194" y="116" as="sourcePoint"/><mxPoint x="27" y="117" as="targetPoint"/></mxGeometry></mxCell><mxCell id="16" value="File" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fontSize=18;fontColor=#000000;align=left;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1"><mxGeometry x="337" y="26" width="59" height="36" as="geometry"/></mxCell><mxCell id="17" value="" style="endArrow=none;dashed=1;html=1;strokeColor=#000000;strokeWidth=2;fontSize=18;fontColor=#000000;entryX=0.171;entryY=1.053;entryPerimeter=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="357" y="472" as="sourcePoint"/><mxPoint x="358" y="58" as="targetPoint"/></mxGeometry></mxCell><mxCell id="18" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;fontSize=18;fontColor=#000000;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="28" y="177" as="sourcePoint"/><mxPoint x="356" y="177" as="targetPoint"/></mxGeometry></mxCell><mxCell id="19" value="根据配置找到namenode存储&lt;div&gt;路径，如果文件已存在，询问&lt;/div&gt;&lt;div&gt;是否格式化&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=left;verticalAlign=top;spacingTop=-4;points=[];" vertex="1" parent="1"><mxGeometry x="194" y="125" width="167" height="43" as="geometry"/></mxCell><mxCell id="20" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;fontSize=18;fontColor=#000000;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="356" y="191" as="sourcePoint"/><mxPoint x="23" y="190" as="targetPoint"/></mxGeometry></mxCell><mxCell id="23" value="" style="endArrow=none;dashed=1;html=1;strokeColor=#000000;strokeWidth=2;fontSize=18;fontColor=#000000;entryX=0.171;entryY=1.053;entryPerimeter=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="196" y="471" as="sourcePoint"/><mxPoint x="197" y="56" as="targetPoint"/></mxGeometry></mxCell><mxCell id="26" value="FSDirectory" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fontSize=18;fontColor=#000000;align=left;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1"><mxGeometry x="436" y="24" width="117" height="36" as="geometry"/></mxCell><mxCell id="27" value="" style="endArrow=none;dashed=1;html=1;strokeColor=#000000;strokeWidth=2;fontSize=18;fontColor=#000000;entryX=0.171;entryY=1.053;entryPerimeter=0;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="492" y="470" as="sourcePoint"/><mxPoint x="494" y="63" as="targetPoint"/></mxGeometry></mxCell><mxCell id="28" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;fontSize=18;fontColor=#000000;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="25" y="253" as="sourcePoint"/><mxPoint x="492" y="254" as="targetPoint"/><Array as="points"/></mxGeometry></mxCell><mxCell id="29" value="当namenode存储路径不&lt;div&gt;存在或者存在并同意格式&lt;/div&gt;&lt;div&gt;化执行format方法&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=left;verticalAlign=top;spacingTop=-4;points=[];" vertex="1" parent="1"><mxGeometry x="355" y="202" width="143" height="43" as="geometry"/></mxCell><mxCell id="30" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;fontSize=18;fontColor=#000000;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="495" y="303" as="sourcePoint"/><mxPoint x="356" y="303" as="targetPoint"/></mxGeometry></mxCell><mxCell id="31" value="实例化image目录和edits&lt;div&gt;文件&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=left;verticalAlign=top;spacingTop=-4;points=[];" vertex="1" parent="1"><mxGeometry x="356" y="264" width="143" height="29" as="geometry"/></mxCell><mxCell id="32" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;fontSize=18;fontColor=#000000;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="356" y="406" as="sourcePoint"/><mxPoint x="490" y="406" as="targetPoint"/></mxGeometry></mxCell><mxCell id="33" value="&lt;div&gt;&lt;span&gt;判断&lt;/span&gt;&lt;span&gt;image目录存&lt;/span&gt;&lt;span&gt;在且不&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;能删除  或者  edits&lt;/span&gt;&lt;span&gt;存在且&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;不能删除  或者&lt;/span&gt;&lt;span&gt;image目录&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;不能创建则&lt;/span&gt;&lt;span&gt;抛出异常，&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;如果没有异常&lt;/span&gt;&lt;span&gt;则表示格式&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;化成功&lt;/span&gt;&lt;/div&gt;" style="text;html=1;resizable=0;autosize=1;align=left;verticalAlign=top;spacingTop=-4;points=[];" vertex="1" parent="1"><mxGeometry x="357" y="312" width="144" height="85" as="geometry"/></mxCell><mxCell id="34" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;fontSize=18;fontColor=#000000;" edge="1" parent="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="491" y="443" as="sourcePoint"/><mxPoint x="25" y="444" as="targetPoint"/></mxGeometry></mxCell><mxCell id="35" value="进程退出" style="text;html=1;resizable=0;autosize=1;align=left;verticalAlign=top;spacingTop=-4;points=[];" vertex="1" parent="1"><mxGeometry x="37" y="417" width="59" height="15" as="geometry"/></mxCell></root></mxGraphModel>